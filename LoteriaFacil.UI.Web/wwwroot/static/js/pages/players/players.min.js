_objPerson={},$(document).ready(function(){limpaObjeto(),carregaPlayers(),window.actionEvents={'click .edit':function(a,b,c){_objPerson=c,buttonsVisible(!0),alteraDados(c),$('#tbPlayers').bootstrapTable('remove',{field:'id',values:[c.id]})},'click .remove':function(a,b,c,f){alert('You click remove icon, row: '+JSON.stringify(c)),console.log(b,c,f)}},$('#btnCancel').click(function(){(''!=$('#txtName').val()||''!=$('#txtEmail').val())&&($('#txtName').val(''),$('#txtEmail').val(''),$('#chkActive').prop('checked',!1),_objPerson=null,carregaPlayers(),buttonsVisible(!1))}),$('#btnSave').click(function(){null!=_objPerson&&''!=$('#txtName').val()&&''!=$('#txtEmail').val()&&(_objPerson.name=$('#txtName').val(),_objPerson.email=$('#txtEmail').val(),_objPerson.dtCadastro=dataAtualFormatada(_objPerson.dtCadastro),_objPerson.active=$('#chkActive')[0].checked,console.log(_objPerson),savePlayer(_objPerson),$('#txtName').val(''),$('#txtEmail').val(''),$('#chkActive').prop('checked',!1)),buttonsVisible(!1)})}),$(':input').keyup(function(){buttonsVisible(!0)});function limpaObjeto(){_objPerson.id=0,_objPerson.name='',_objPerson.email='',_objPerson.dtCadastro='',_objPerson.active=!1}function carregaPlayers(a=0){$.ajax({type:'POST',contentType:'application/json',async:!0,url:0===parseInt(a)?'/players':'/players/'+parseInt(a),success:function(b){$('#tbPlayers').bootstrapTable('load',b.players)},error:function(b){console.log(b)}})}function savePlayer(a){console.log(JSON.stringify(a)),$.ajax({type:'POST',contentType:'application/json',async:!0,url:'/savePlayer',data:JSON.stringify(a),success:function(b){limpaObjeto(),console.log(b),carregaPlayers()},error:function(b){console.log(b)}})}function alteraDados(a){$('#txtName').val(a.name),$('#txtEmail').val(a.email),$('#chkActive').prop('checked',!1),!0===a.active&&$('#chkActive').prop('checked',!0)}function buttonsVisible(a=!1){a?$('#btns').removeClass('hide'):$('#btns').addClass('hide')}function actionFormatter(){return['<div style="text-align:center;">','<span class="edit text-info" style="cursor: pointer; margin:10px;" title="Edit">','<i class="fa fa-edit"></i>','</span>','</div>'].join('')}function nameFormatter(a,b){return['<span id="nameEditable'+b.id+'" data-type="text" data-pk="1" data-name="name">',b.name,'</span>'].join('')}function activeFormatter(a,b){return!0===b.active?['<span class="text-success" title="Ativo">','<i class="fa fa-thumbs-o-up"></i>','</span>'].join(''):['<span class="text-danger" title="Inativo">','<i class="fa fa-thumbs-o-down"></i>','</span>'].join('')}function runningFormatter(a,b,c){return c}function formataData(a,b){return dataAtualFormatada(b.dtCadastro)}function dataAtualFormatada(a){var b=new Date(a);return b.toLocaleDateString()}$(function(){var a=$('#tbPlayers');$('#eventsTable').on('all.bs.table',function(b,c,f){console.log('Event:',c,', data:',f)}).on('click-row.bs.table',function(){a.text('Event: click-row.bs.table')}).on('dbl-click-row.bs.table',function(){a.text('Event: dbl-click-row.bs.table')}).on('sort.bs.table',function(){a.text('Event: sort.bs.table')}).on('check.bs.table',function(){a.text('Event: check.bs.table')}).on('uncheck.bs.table',function(){a.text('Event: uncheck.bs.table')}).on('check-all.bs.table',function(){a.text('Event: check-all.bs.table')}).on('uncheck-all.bs.table',function(){a.text('Event: uncheck-all.bs.table')}).on('load-success.bs.table',function(){a.text('Event: load-success.bs.table')}).on('load-error.bs.table',function(){a.text('Event: load-error.bs.table')}).on('column-switch.bs.table',function(){a.text('Event: column-switch.bs.table')}).on('page-change.bs.table',function(){a.text('Event: page-change.bs.table')}).on('search.bs.table',function(){a.text('Event: search.bs.table')})});